"use strict";(self.webpackChunksindhi_front=self.webpackChunksindhi_front||[]).push([[233],{8233:function(e,a,n){n.r(a),n.d(a,{default:function(){return k}});var t=n(44925),r=n(1413),s=n(29439),l=n(72791),i=n(59741),c=n.n(i),o=n(53202),d=n(87309),u=n(91541),m=n(49389),h=n(57123),v=n(83734),f=n(68747),p=n(79286),x=n(66023),j=n(13248),g=n(4149),Z=n(51797),b=n(54502),y=n(84914),N=n(59434),P=n(16871),I=n(1352),w=n(56971),D=n.n(w),q=n(77106),M=n(23695),S=n(10215),O=n(80184),E=function(e){var a="image/jpeg"===e.type||"image/png"===e.type;a||M.ZP.error("You can only upload JPG/PNG file!");var n=Math.ceil(e.size/1024)<200;return n||M.ZP.error("Image must smaller than 200KB!"),a&&n},Y=function(e){var a=e.storageUrl,n=(0,l.useState)(!1),t=(0,s.Z)(n,2),r=t[0],i=t[1],c=(0,l.useState)(),o=(0,s.Z)(c,2),d=o[0],u=o[1],m=(0,O.jsxs)("div",{children:[r?(0,O.jsx)(q.Z,{}):(0,O.jsx)(p.Z,{}),(0,O.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return(0,O.jsx)(S.Z,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,method:"POST",action:"https://sindhi-seva-app.herokuapp.com/store/profile/upload",beforeUpload:E,onChange:function(e){"uploading"!==e.file.status?"done"===e.file.status&&function(e,a){var n=new FileReader;n.addEventListener("load",(function(){return a(n.result)})),n.readAsDataURL(e)}(e.file.originFileObj,(function(n){var t,r;i(!1),u(null===(t=e.file.response[0])||void 0===t?void 0:t.Location),a(null===(r=e.file.response[0])||void 0===r?void 0:r.Location)})):i(!0)},children:d?(0,O.jsx)("img",{src:d,alt:"avatar",style:{width:"100%"}}):m})},A=["key","name"],k=function(){var e=(0,l.useState)(!0),a=(0,s.Z)(e,2),n=a[0],i=a[1],q=(0,l.useState)(),M=(0,s.Z)(q,2),S=M[0],E=M[1],k=(0,l.useState)(),C=(0,s.Z)(k,2),B=C[0],T=C[1],F=(0,l.useState)("otp"),G=(0,s.Z)(F,2),U=G[0],R=G[1],L=(0,l.useState)(0),z=(0,s.Z)(L,2),H=z[0],V=z[1],K=(0,l.useState)(),W=(0,s.Z)(K,2),_=W[0],J=W[1],Q=(0,N.I0)(),X=(0,P.s0)(),$=function(e){(function(e){return(0,I.yf)(e)})(e)&&(0,g.j0)("/otp-signup/".concat(e)).then((function(e){e.isExists?(0,Z.Y)("User Exists"):((0,Z.Y)(e.message),R("otp-verification"))}))};return(0,O.jsx)("div",{className:"container my-5",children:(0,O.jsxs)("div",{className:"row align-items-center",children:[(0,O.jsx)("div",{className:"col-md-6",children:"otp"===U?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(I.ZP,{placeholder:"Enter phone number",value:S,onChange:E,defaultCountry:"IN"}),(0,O.jsx)("div",{className:"text-end",children:(0,O.jsx)(d.Z,{className:"mt-4",onClick:function(){return $(S)},children:"Send OTP"})})]}):"otp-verification"===U?(0,O.jsxs)("div",{className:"d-flex align-items-center flex-column ",children:[(0,O.jsx)(D(),{value:B,onChange:T,autoFocus:!0,OTPLength:4,otpType:"number",disabled:!1}),(0,O.jsxs)("div",{className:"d-flex align-items-center",children:[(0,O.jsx)(w.ResendOTP,{onResendClick:function(){H>=3?(0,Z.Y)("Too many Attepmts","Please try again later"):(0,g.j0)("/otp-signup/".concat(S)).then((function(e){(0,Z.Y)(e.message),V(H+1)}))},renderButton:function(e){return(0,O.jsx)(d.Z,(0,r.Z)((0,r.Z)({disabled:H>=3,className:"mt-4"},e),{},{children:0!==e.remainingTime?"Please wait for ".concat(e.remainingTime," sec"):"Resend"}))},renderTime:function(){return l.Fragment}}),(0,O.jsx)(d.Z,{className:"mt-4 ms-3",onClick:function(){return e=B,void(0,g.j0)("/otp-verification/".concat(S,"/").concat(e)).then((function(e){e.varified&&((0,Z.Y)("Verification successful"),R("form"))}));var e},children:"Verify OTP"})]})]}):(0,O.jsxs)(u.Z,{onFinish:function(e){if(e.dob){var a=new Date(null===e||void 0===e?void 0:e.dob);e.dob="".concat(a.getFullYear(),"-").concat(a.getMonth()<10?"0".concat(a.getMonth()):a.getMonth(),"-").concat(a.getDate()<10?"0".concat(a.getDate()):a.getDate())}if(e.anniversary){var n=new Date(e.anniversary);e.anniversary="".concat(n.getFullYear(),"-").concat(n.getMonth()<10?"0".concat(n.getMonth()):n.getMonth(),"-").concat(n.getDate()<10?"0".concat(n.getDate()):n.getDate())}e.mobile=S,_&&(e.profilePicture=_),(0,g.j0)("/signup",e).then((function(e){Q((0,y.bO)()),Q((0,b.ur)(e)),(0,Z.Y)("SignUp Successful"),X("/",{replace:!0})})).catch((function(){return(0,Z.Y)("Problem occured while signup","Retry after some time.")}))},layout:"vertical",children:[(0,O.jsxs)("div",{className:"row",children:[(0,O.jsx)("div",{className:"col-md-6",children:(0,O.jsx)(u.Z.Item,{label:"First Name",name:"firstName",rules:[{required:!0,message:"Please enter first name",type:"string"}],children:(0,O.jsx)(m.Z,{placeholder:"Enter your first name"})})}),(0,O.jsx)("div",{className:"col-md-6",children:(0,O.jsx)(u.Z.Item,{label:"Last Name",name:"lastName",rules:[{required:!0,message:"Please enter last name",type:"string"}],children:(0,O.jsx)(m.Z,{placeholder:"Enter your last name"})})})]}),(0,O.jsx)("div",{className:"row",children:(0,O.jsx)("div",{className:"col-md-6",children:(0,O.jsx)(Y,{storageUrl:J})})}),(0,O.jsxs)("div",{className:"row",children:[(0,O.jsx)("div",{className:"col-md-6",children:(0,O.jsx)(u.Z.Item,{label:"Email",name:"email",rules:[{message:"Please enter the Email",type:"email"}],children:(0,O.jsx)(m.Z,{placeholder:"Enter your email"})})}),(0,O.jsx)("div",{className:"col-md-6",children:(0,O.jsx)(u.Z.Item,{label:"Date of Birth",name:"dob",rules:[{required:!0,message:"Please select date",type:"date"}],children:(0,O.jsx)(h.Z,{placeholder:"select date",className:"w-100",format:"YYYY-MM-DD"})})})]}),(0,O.jsxs)("div",{className:"row",children:[(0,O.jsx)("div",{className:"col-md-6",children:(0,O.jsx)(u.Z.Item,{label:"Gender",name:"gender",rules:[{required:!0,message:"Please select the gender",type:"string"}],children:(0,O.jsx)(v.Z,{placeholder:"Select gender",children:j.P3.map((function(e,a){return(0,O.jsx)(v.Z.Option,{value:e,children:e},a)}))})})}),(0,O.jsx)("div",{className:"col-md-6",children:(0,O.jsx)(u.Z.Item,{label:"Profession",name:"profession",rules:[{required:!0,message:"Please select the Profession",type:"string"}],children:(0,O.jsx)(v.Z,{placeholder:"Select Profession",children:j.Eg.map((function(e,a){return(0,O.jsx)(v.Z.Option,{value:e,children:e},a)}))})})})]}),(0,O.jsxs)("div",{className:"row",children:[(0,O.jsx)("div",{className:"col-md-6",children:(0,O.jsx)(u.Z.Item,{label:"Phone",name:"mobile",rules:[{message:"Please enter mobile number",type:"string"}],children:(0,O.jsx)(m.Z,{defaultValue:S,disabled:!0,type:"string",placeholder:"Enter Mobile Number"})})}),(0,O.jsx)("div",{className:"col-md-6",children:(0,O.jsx)(u.Z.Item,{label:"Blood Group",name:"blood",rules:[{required:!0,message:"Please enter blood group",type:"string"}],children:(0,O.jsx)(v.Z,{placeholder:"Select Blood Group",children:j.K3.map((function(e,a){return(0,O.jsx)(v.Z.Option,{value:e,children:e},a)}))})})})]}),(0,O.jsxs)("div",{className:"row",children:[(0,O.jsx)("div",{className:"col-md-6",children:(0,O.jsx)(u.Z.Item,{label:"Qualification",name:"qualification",rules:[{required:!0,message:"Please enter qualification",type:"string"}],children:(0,O.jsx)(v.Z,{placeholder:"Select",children:j.C9.map((function(e,a){return(0,O.jsx)(v.Z.Option,{value:e,children:e},a)}))})})}),(0,O.jsx)("div",{className:"col-md-6",children:(0,O.jsx)(u.Z.Item,{label:"Marital Status",name:"maritalStatus",rules:[{required:!0,message:"Please select marital status",type:"string"}],children:(0,O.jsx)(v.Z,{placeholder:"Select",onChange:function(e){i("Married"!==e)},children:j.zM.map((function(e,a){return(0,O.jsx)(v.Z.Option,{value:e,children:e},a)}))})})})]}),(0,O.jsx)(u.Z.Item,{label:"Anniversary Date",name:"anniversary",rules:[{required:!1,message:"Please select date",type:"date"}],hidden:n,children:(0,O.jsx)(h.Z,{placeholder:"select date",className:"w-100",format:"YYYY-MM-DD"})}),(0,O.jsx)(u.Z.Item,{label:"Address",name:"address",rules:[{message:"Please enter address",type:"string"}],children:(0,O.jsx)(x.Z,{rows:3,placeholder:"Enter Address"})}),(0,O.jsx)(u.Z.List,{name:"members",children:function(e,a){var n=a.add,s=a.remove;return(0,O.jsxs)(O.Fragment,{children:[e.map((function(e){var a=e.key,n=e.name,l=(0,t.Z)(e,A);return(0,O.jsxs)("div",{className:"row mx-1",children:[(0,O.jsx)(u.Z.Item,(0,r.Z)((0,r.Z)({},l),{},{name:[n,"relationId"],rules:[{required:!0,message:"Please enter member UID",min:8,max:9}],className:"col-5",children:(0,O.jsx)(m.Z,{placeholder:"Enter Exsiting member id"})})),(0,O.jsx)(u.Z.Item,(0,r.Z)((0,r.Z)({},l),{},{name:[n,"relationName"],rules:[{required:!0,message:"Please select relation"}],className:"col-5 ms-1",children:(0,O.jsx)(v.Z,{placeholder:"Select Relation",children:j.d8.map((function(e,a){return(0,O.jsx)(v.Z.Option,{value:e,children:e},a)}))})})),(0,O.jsx)(f.Z,{onClick:function(){return s(n)},className:"col-1 mt-2"})]},a)})),(0,O.jsx)(u.Z.Item,{children:(0,O.jsx)(d.Z,{type:"dashed",onClick:function(){return n()},block:!0,icon:(0,O.jsx)(p.Z,{}),children:"Add Member"})})]})}}),(0,O.jsx)("div",{children:(0,O.jsx)(u.Z.Item,{children:(0,O.jsx)(d.Z,{type:"primary",htmlType:"submit",children:"Register"})})})]})}),(0,O.jsx)("div",{className:"col-md-6",children:(0,O.jsx)(c(),{animationData:o,loop:!1})})]})})}},13248:function(e,a,n){n.d(a,{Aq:function(){return m},C9:function(){return l},Eg:function(){return r},K3:function(){return s},P3:function(){return t},d8:function(){return c},ll:function(){return o},ud:function(){return d},yu:function(){return u},zM:function(){return i}});var t=["Male","Female","Others"],r=["Doctor","Engineer","Others"],s=["A+","A-","AB+","AB-","B+","B-","O+","O-"],l=["10th","12th","Graduate","PostGraduate","PHD"],i=["Married","Unmarried","Divorced","Widow","Widower"],c=["Father","Mother","Husband","Wife","Sister","Brother"],o=[{label:"Active",value:"Active"},{label:"Inactive",value:"Inactive"}],d=[{label:"Doctor",value:"Doctor"},{label:"Engineer",value:"Engineer"},{label:"Other",value:"Other"}],u=[{label:"10th",value:"10th"},{label:"12th",value:"12th"},{label:"Graduate",value:"Graduate"},{label:"PostGraduate",value:"PostGraduate"},{label:"PHD",value:"PHD"}],m=[{label:"Active",value:"Active"},{label:"InActive",value:"InActive"},{label:"Blocked",value:"Blocked"}]},79286:function(e,a,n){n.d(a,{Z:function(){return c}});var t=n(1413),r=n(72791),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},l=n(54291),i=function(e,a){return r.createElement(l.Z,(0,t.Z)((0,t.Z)({},e),{},{ref:a,icon:s}))};i.displayName="PlusOutlined";var c=r.forwardRef(i)}}]);
//# sourceMappingURL=233.d01e011c.chunk.js.map